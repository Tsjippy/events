{"version":3,"file":"frontend-event.min.js","mappings":"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","sources":["webpack://events/./frontEndContent.js"],"sourcesContent":["console.log('Frontend Content Events Script Loaded');\r\n/**\r\n * Update the day name and weeknumber\r\n */\r\nfunction updateDayNameDisplay(){\r\n    let startDate\t= new Date(document.querySelector('[name=\"event[startdate]\"]').value);\r\n\tlet weekDays\t= [\r\n\t\t'sunday',\r\n\t\t'monday',\r\n\t\t'tuesday',\r\n\t\t'wednesday',\r\n\t\t'thursday',\r\n\t\t'friday',\r\n\t\t'saturday'\r\n\t]\r\n\r\n\tlet weekDay\t= weekDays[startDate.getDay()];\r\n\tlet weekNr\t= parseInt(startDate.getDate()/7);\r\n\r\n\tif(weekDay == undefined){\r\n\t\tweekDay\t= '?';\r\n\t}\r\n\r\n\tlet nrInWords\t= [\r\n\t\t'first',\r\n\t\t'second',\r\n\t\t'third',\r\n\t\t'fourth',\r\n\t\t'fifth'\r\n\t]\r\n\tlet weekWord\t= nrInWords[weekNr];\r\n\r\n\tdocument.querySelectorAll('.dayname').forEach(el=>el.textContent = weekDay);\r\n\tdocument.querySelectorAll('.weekword').forEach(el=>el.textContent = weekWord);\r\n\r\n\t// get the last day of the month\r\n\tlet lastDay\t= new Date(startDate.getFullYear(), startDate.getMonth() + 1, 0);\r\n\r\n\tdocument.querySelectorAll('.last-day-of-month').forEach(el=>el.classList.add('hidden'));\r\n\tdocument.querySelectorAll('.last-dayname-of-month').forEach(el=>el.classList.add('hidden'));\r\n\r\n\t// Selected date is the last of the month\r\n\tif(startDate.getDate() == lastDay.getDate()){\r\n\t\t// show last day of month radio option\r\n\t\tdocument.querySelectorAll('.last-day-of-month').forEach(el=>el.classList.remove('hidden'));\r\n\t}\r\n\r\n\t// Selected date is the last weekday of the month (i.e. last friday or such)\r\n\tif(startDate.getDate() + 7 > lastDay.getDate()){\r\n\t\t// show last day of month radio option\r\n\t\tdocument.querySelectorAll('.last-dayname-of-month').forEach(el=>el.classList.remove('hidden'));\r\n\t}\r\n}\r\n\r\n/**\r\n * daily, weekly, monthly, yearly selector changed\r\n */\r\nfunction repeatTypeChosen(target){\r\n\tlet parent\t= target.closest('.repeat-wrapper');\r\n\r\n\t//hide all what should be hidden\r\n\tparent.querySelectorAll('.hide').forEach(el=>el.classList.replace('hide', 'hidden'));\r\n\r\n\tupdateDayNameDisplay();\r\n\r\n\tswitch(target.value){\r\n\t\tcase 'daily':\r\n\t\t\t//show\r\n\t\t\tparent.querySelectorAll('.repeatinterval, .days').forEach(el=>el.classList.replace('hidden', 'hide'));\r\n\t\t\tparent.querySelector('#repeattype').textContent\t= 'days';\r\n\t\t\tbreak;\r\n\t\tcase 'weekly':\r\n\t\t\tparent.querySelectorAll('.repeatinterval, .weeks').forEach(el=>el.classList.replace('hidden', 'hide')); \r\n\t\t\tparent.querySelector('#repeattype').textContent\t= 'week(s)';\r\n\t\t\tbreak;\r\n\t\tcase 'monthly':\r\n\t\t\tparent.querySelectorAll('.repeatdatetype, .months').forEach(el=>el.classList.replace('hidden', 'hide')); \r\n\t\t\tparent.querySelector('#repeattype').textContent\t\t\t= 'month(s)';\r\n\t\t\tbreak;\r\n\t\tcase 'yearly':\r\n            parent.querySelectorAll('.repeatdatetype, .years').forEach(el=>el.classList.replace('hidden', 'hide')); \r\n\t\t\tparent.querySelector('#repeattype').textContent\t\t\t= 'year(s)';\r\n\t\t\tbreak;\r\n\t\tcase 'custom_days':\r\n\t\t\tparent.querySelectorAll('.custom-dates-selector').forEach(el=>el.classList.replace('hidden', 'hide')); \r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\nfunction allDayClicked(target){\r\n\tlet startTime\t= target.closest('.event').querySelector('[name=\"event[starttime]\"]');\r\n\tlet endTime\t\t= target.closest('.event').querySelector('[name=\"event[endtime]\"]');\r\n\tlet endDate\t\t= target.closest('.event').querySelector('[name=\"enddate-label\"]');\r\n\r\n\tif(target.checked){\r\n\t\tstartTime.classList.add('hidden');\r\n\t\tendTime.classList.add('hidden');\r\n\t\tendDate.classList.add('hidden');\r\n\r\n\t\tstartTime.value\t='00:00';\r\n\t\tendTime.value\t= '23:59';\r\n\t}else{\r\n\t\tstartTime.classList.remove('hidden');\r\n\t\tendTime.classList.remove('hidden');\r\n\t\tendDate.classList.remove('hidden');\r\n\r\n\t\tstartTime.value\t='';\r\n\t\tendTime.value\t= '';\r\n\t}\r\n}\r\n\r\nfunction startDateChanged(target){\r\n    updateDayNameDisplay();\r\n\r\n\tlet endDate\t\t= target.closest('.event').querySelector('[name=\"event[enddate]\"]');\r\n\tlet start\t\t= new Date(target.value);\r\n\tlet end\t\t\t= new Date(endDate.value);\r\n\r\n\tif(endDate.value == '' || start>end){\r\n\t\tendDate.value\t= target.value;\r\n\t}\r\n\tlet firstWeekday\t= new Date(start.getFullYear(), start.getMonth(), 1).getDay();\r\n\tlet offsetDate\t\t= start.getDate() + firstWeekday - 1;\r\n\tlet montWeek\t\t= Math.floor(offsetDate / 7);\r\n\r\n\tdocument.querySelectorAll('.weeks [name=\"event[repeat][weeks][]\"]')[montWeek].checked\t= true;\r\n}\r\n\r\n/**\r\n * Enable or disable even repetition\r\n *\r\n * @param   object  target  the html object clicked\r\n * \r\n */\r\nfunction changeRepeatStatus(target){\r\n\t//Change visibility\r\n    document.querySelector('.repeat-wrapper').classList.toggle('hidden');\r\n\r\n\t// Change repeate value\r\n    let repeated\t= target.parentNode.querySelector('[name=\"event[isrepeated]\"]');\r\n    if(repeated.value == 'yes'){\r\n        repeated.value = '';\r\n    }else{\r\n        repeated.value = 'yes';\r\n    }\r\n}\r\n\r\n/**\r\n * Hide and show the relevant options for a given repeat type\r\n *\r\n * @param   object  target  the html object clicked\r\n * \r\n */\r\nfunction repeatStopOptionChosen(target){\r\n    //hide all options\r\n    target.closest('.event').querySelectorAll('.repeat-type-option').forEach(el=>{\r\n        el.querySelector('.repeat-type-option_specifics').classList.add('hidden');\t\r\n    });\r\n\r\n    //show the selected option\r\n    target.closest('.repeat-type-option').querySelector('.repeat-type-option_specifics').classList.remove('hidden');\r\n}\r\n\r\ndocument.addEventListener(\"click\", event =>{\r\n    let target  = event.target;\r\n\r\n    if(target.name == 'enable-event-repeat'){\r\n        changeRepeatStatus(target);\r\n    }else if(target.name == 'event[repeat][stop]'){\r\n        repeatStopOptionChosen(target);\r\n    }else if(target.closest('.repeat-type-option') != null){\r\n\t\tdocument.querySelectorAll('.repeat-type-option_specifics:not(.hidden)').forEach(el=>el.classList.add('hidden'));\r\n\t\ttarget.closest('.repeat-type-option').querySelector('.repeat-type-option_specifics').classList.remove('hidden');\r\n\t}else if(target.classList.contains('selectall')){\r\n\t\ttarget.closest('.selector-wrapper').querySelectorAll('input[type=\"checkbox\"]').forEach(el=>el.checked = target.checked);\r\n\t}else{\r\n\t\treturn;\r\n\t}\r\n\r\n\tevent.stopImmediatePropagation();\r\n});\r\n\r\ndocument.addEventListener('change', event => {\r\n    let target  = event.target;\r\n\r\n    if(target.name == 'event[allday]'){\r\n        allDayClicked(target);\r\n    }else if(target.name == 'event[startdate]'){\r\n        startDateChanged(target);\r\n    }else if(target.name == 'event[repeat][type]'){\r\n        repeatTypeChosen(target);\r\n    }else{\r\n\t\treturn;\r\n\t}\r\n\r\n\tevent.stopImmediatePropagation();\r\n});"],"names":["updateDayNameDisplay","startDate","Date","document","querySelector","value","weekDay","getDay","weekNr","parseInt","getDate","undefined","weekWord","querySelectorAll","forEach","el","textContent","lastDay","getFullYear","getMonth","classList","add","remove","console","log","addEventListener","event","target","name","toggle","repeated","parentNode","changeRepeatStatus","closest","repeatStopOptionChosen","contains","checked","stopImmediatePropagation","startTime","endTime","endDate","allDayClicked","start","end","firstWeekday","offsetDate","montWeek","Math","floor","startDateChanged","parent","replace","repeatTypeChosen"],"sourceRoot":""}