(()=>{function e(){let e=new Date(document.querySelector('[name="event[startdate]"]').value),t=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e.getDay()],a=parseInt(e.getDate()/7);null==t&&(t="?");let l=["first","second","third","fourth","fifth"][a];document.querySelectorAll(".dayname").forEach(e=>e.textContent=t),document.querySelectorAll(".weekword").forEach(e=>e.textContent=l);let r=new Date(e.getFullYear(),e.getMonth()+1,0);document.querySelectorAll(".last-day-of-month").forEach(e=>e.classList.add("hidden")),document.querySelectorAll(".last-dayname-of-month").forEach(e=>e.classList.add("hidden")),e.getDate()==r.getDate()&&document.querySelectorAll(".last-day-of-month").forEach(e=>e.classList.remove("hidden")),e.getDate()+7>r.getDate()&&document.querySelectorAll(".last-dayname-of-month").forEach(e=>e.classList.remove("hidden"))}console.log("Frontend Content Events Script Loaded"),document.addEventListener("click",e=>{let t=e.target;if("enable-event-repeat"==t.name)!function(e){document.querySelector(".repeat-wrapper").classList.toggle("hidden");let t=e.parentNode.querySelector('[name="event[isrepeated]"]');"yes"==t.value?t.value="":t.value="yes"}(t);else if("event[repeat][stop]"==t.name)!function(e){e.closest(".event").querySelectorAll(".repeat-type-option").forEach(e=>{e.querySelector(".repeat-type-option_specifics").classList.add("hidden")}),e.closest(".repeat-type-option").querySelector(".repeat-type-option_specifics").classList.remove("hidden")}(t);else if(null!=t.closest(".repeat-type-option"))document.querySelectorAll(".repeat-type-option_specifics:not(.hidden)").forEach(e=>e.classList.add("hidden")),t.closest(".repeat-type-option").querySelector(".repeat-type-option_specifics").classList.remove("hidden");else{if(!t.classList.contains("selectall"))return;t.closest(".selector-wrapper").querySelectorAll('input[type="checkbox"]').forEach(e=>e.checked=t.checked)}e.stopImmediatePropagation()}),document.addEventListener("change",t=>{let a=t.target;if("event[allday]"==a.name)!function(e){let t=e.closest(".event").querySelector('[name="event[starttime]"]'),a=e.closest(".event").querySelector('[name="event[endtime]"]'),l=e.closest(".event").querySelector('[name="enddate-label"]');e.checked?(t.classList.add("hidden"),a.classList.add("hidden"),l.classList.add("hidden"),t.value="00:00",a.value="23:59"):(t.classList.remove("hidden"),a.classList.remove("hidden"),l.classList.remove("hidden"),t.value="",a.value="")}(a);else if("event[startdate]"==a.name)!function(t){e();let a=t.closest(".event").querySelector('[name="event[enddate]"]'),l=new Date(t.value),r=new Date(a.value);(""==a.value||l>r)&&(a.value=t.value);let s=new Date(l.getFullYear(),l.getMonth(),1).getDay(),n=l.getDate()+s-1,o=Math.floor(n/7);document.querySelectorAll('.weeks [name="event[repeat][weeks][]"]')[o].checked=!0}(a);else{if("event[repeat][type]"!=a.name)return;!function(t){let a=t.closest(".repeat-wrapper");switch(a.querySelectorAll(".hide").forEach(e=>e.classList.replace("hide","hidden")),e(),t.value){case"daily":a.querySelectorAll(".repeatinterval, .days").forEach(e=>e.classList.replace("hidden","hide")),a.querySelector("#repeattype").textContent="days";break;case"weekly":a.querySelectorAll(".repeatinterval, .weeks").forEach(e=>e.classList.replace("hidden","hide")),a.querySelector("#repeattype").textContent="week(s)";break;case"monthly":a.querySelectorAll(".repeatdatetype, .months").forEach(e=>e.classList.replace("hidden","hide")),a.querySelector("#repeattype").textContent="month(s)";break;case"yearly":a.querySelectorAll(".repeatdatetype, .years").forEach(e=>e.classList.replace("hidden","hide")),a.querySelector("#repeattype").textContent="year(s)";break;case"custom_days":a.querySelectorAll(".custom-dates-selector").forEach(e=>e.classList.replace("hidden","hide"))}}(a)}t.stopImmediatePropagation()})})();
//# sourceMappingURL=frontend-event.min.js.map